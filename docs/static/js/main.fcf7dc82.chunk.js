(this["webpackJsonpxavierdpt.github.io"]=this["webpackJsonpxavierdpt.github.io"]||[]).push([[0],{13:function(t,n,e){},14:function(t,n,e){},16:function(t,n,e){"use strict";e.r(n);var o=e(1),r=e.n(o),i=e(3),c=e.n(i),a=(e(13),e(7)),l=e(4),s=e(5),u=e(8),d=e(6),h=(e(14),e(0)),f=601,g=601,p=[[-1,0],[0,1],[1,0],[0,-1]],v=20,b=1e5,j=function(){return Array.from({length:v},(function(){return{WHITE:void 0,BLACK:void 0}}))},x=function(){return{instruction:0,count:0,x:Math.floor(300.5)+1,y:Math.floor(300.5)+1,grid:Array.from({length:f},(function(){return Array.from({length:g},(function(){return 0}))}))}},m=function(){for(var t=[],n=0,e=[0,1,2,3];n<e.length;n++)for(var o=e[n],r=0,i=[2,1];r<i.length;r++)for(var c=i[r],a=0;a<v;++a)t.push({direction:o,color:c,instruction:a});return[],null,t},y=j(),O=x(),w=m(),S=[],T="123456789ABCDEF".split("").map((function(t){return"#".concat(t).concat(t).concat(t).concat(t).concat(t).concat(t)})),C=null,k="INSTRUCTIONS_EXHAUSTED",E=function(t){Object(u.a)(e,t);var n=Object(d.a)(e);function e(t){var o;return Object(l.a)(this,e),(o=n.call(this,t)).start=function(){o.setState({intervalHandle:setInterval((function(){return o.steps(1e3)}),1)})},o.stop=function(t){var n=o.state.intervalHandle;clearInterval(n),o.setState({intervalHandle:null},t)},o.steps=function(t){for(var n={},e=!1,r=!1,i=0;i<t;++i){var c=o.step();if(c.cell&&(n["".concat(c.cell.x,"-").concat(c.cell.y)]=c.cell),c.stopped){e=!0,r=c.instructionsExhausted;break}}for(var a in n){var l=n[a].x,s=n[a].y,u=n[a].colorToWrite;C.fillStyle=2===u?"black":"white",C.fillRect(1*l,1*s,1,1)}e&&o.stop((function(){setTimeout((function(){o.nextProgram(r),o.start()}),1)}))},o.step=function(){var t=O,n=t.instruction,e=t.x,o=t.y,r=t.grid,i=r[e][o];0===i&&(i=1);var c=y[n][i];if(void 0===c&&(c=function(){var t=Math.floor(Math.random()*w.length);return w[t]}(),y[n][i]=c),c===k)return{stopped:!0,cell:null,instructionsExhausted:!0};var a=e+p[c.direction][0],l=o+p[c.direction][1];if(a<0||a>=f||l<0||l>=g||O.count>b)return{stopped:!0,cell:null,instructionsExhausted:!1};var s=c.instruction,u=c.color;return r[e][o]=c.color,O.x=a,O.y=l,O.instruction=s,++O.count,{cell:{x:e,y:o,colorToWrite:u},stopped:!1,instructionsExhausted:!1}},o.nextProgram=function(t){var n=O.grid,e=function(t,n){for(var e=0,o=0;o<f;++o)for(var r=0;r<g;++r)0!==t[o][r]&&++e;return e+(1-n/b)}(n,O.count),o=!1;if(0===S.length)o=!0;else{var r,i=Object(a.a)(S);try{for(i.s();!(r=i.n()).done;){r.value.score<e&&(o=!0)}}catch(k){i.e(k)}finally{i.f()}}if(o){console.log(JSON.stringify(y,null,2)),S.length===T.length&&S.splice(S.length-1),S.unshift({grid:n,score:e}),console.log("High scores"),console.group();for(var c="123456789ABCDEF".split(""),l=0;l<S.length;++l)console.log("".concat(c[l]," - ").concat(S[l].score));console.groupEnd()}C.fillStyle="white",C.fillRect(0,0,601,601);for(var s=S.length-1;s>=0;--s){var u=S[s].grid,d=T[s];C.fillStyle=d;for(var h=0;h<f;++h)for(var p=0;p<g;++p)u[h][p]&&C.fillRect(1*h,1*p,1,1)}t&&(++v,console.log("Switching to program with "+v+" instructions"),w=m()),y=j(),O=x(),0},o.state={intervalHandle:null},o}return Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=document.querySelector("#canvas");C=t.getContext("2d")}},{key:"render",value:function(){var t=this,n=this.state.intervalHandle;return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("p",{children:"This is 2D Black and White Turing Machine simulator on a non-toroidal grid"}),Object(h.jsx)("p",{children:"It randomly generates 2D Turing programs by choosing a random action among the possible actions every time the machine does not know what to do."}),Object(h.jsxs)("p",{children:["Max number of instructions: ",v]}),Object(h.jsxs)("p",{children:["Max computation horizon: ",b]}),Object(h.jsx)("p",{children:"Score: number of cells written on the grid, and speed at which these cells were written in the fractional part"}),Object(h.jsx)("p",{children:"The last best computation shadows are displayed in shades of gray."}),Object(h.jsx)("p",{children:"If you find a 2D Turing machine that grows in the center and gradually fills the space, without going to the infinite left, right, top or bottom, that would be a good one."}),Object(h.jsx)("p",{children:"Some info is dumped in the developer console"}),Object(h.jsx)("div",{children:Object(h.jsx)("canvas",{id:"canvas",width:601,height:601})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{disabled:!!n,onClick:this.start,children:"Start"}),Object(h.jsx)("button",{disabled:!n,onClick:function(){return t.stop()},children:"Stop"}),Object(h.jsx)("button",{disabled:!!n,onClick:this.nextProgram,children:"Next"})]})]})}}]),e}(r.a.Component),I=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,17)).then((function(n){var e=n.getCLS,o=n.getFID,r=n.getFCP,i=n.getLCP,c=n.getTTFB;e(t),o(t),r(t),i(t),c(t)}))};c.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(E,{})}),document.getElementById("root")),I()}},[[16,1,2]]]);
//# sourceMappingURL=main.fcf7dc82.chunk.js.map